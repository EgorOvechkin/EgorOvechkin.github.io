{"version":3,"sources":["components/Loader.js","components/RouteEditor/PointInput.js","icons/remove_icon.svg","components/RouteEditor/SortablePoint.js","components/RouteEditor/PointTitle.js","components/RouteEditor/PointList.js","components/RouteEditor/RouteEditor.js","components/Map/Point.js","components/Map/LineString.js","components/Map/YandexMap.js","components/App.js","index.js"],"names":["Loader","props","react_default","a","createElement","className","message","PointInput","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","pointTitle","isValid","handleChange","bind","assertThisInitialized","keyPress","onBlur","type","value","onChange","onKeyDown","placeholder","setState","event","newValue","target","trim","key","addPoint","PureComponent","_extends","assign","i","arguments","length","source","prototype","hasOwnProperty","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","remove_icon_SvgRemoveIcon","_ref","svgRef","height","width","ref","ForwardRef","forwardRef","SortablePoint","__webpack_require__","p","SortableElement","title","onClick","deletePoint","propTypes","PropTypes","string","index","number","isRequired","func","PointTitle","RouteEditor_SortablePoint","SortableList","SortableContainer","titles","map","RouteEditor_PointTitle","concat","PointsList","nextProps","toString","onSortEnd","distance","Component","RouteEditor","children","Point","onDrag","get","geometry","getCoordinates","react_yandex_maps_umd_production_min","coordinates","modules","properties","balloonContentHeader","options","draggable","balloonPanelMaxMapArea","LineString","strokeWidth","MAP_STATE","center","zoom","YandexMap","points","forEach","point","push","Map_Point","onPointDrag","defaultState","instanceRef","setMapRef","Map_LineString","App","setPointCoordinates","movePoint","isMapLoaded","components_Loader","components_RouteEditor_RouteEditor","RouteEditor_PointInput","PointList","Map_YandexMap","oldIndex","newIndex","array","slice","splice","mapRef","Boolean","getCenter","ReactDOM","render","components_App","document","getElementById"],"mappings":"oVAWeA,SATA,SAACC,GAAD,OACbC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,UACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACfH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,WAAWJ,EAAMK,aC4DrBC,qBA7Db,SAAAA,EAAYN,GAAO,IAAAO,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACjBC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,KAAMV,KACDc,MAAQ,CACXC,WAAY,GACZC,SAAS,GAGXT,EAAKU,aAAeV,EAAKU,aAAaC,KAAlBV,OAAAW,EAAA,EAAAX,CAAAD,IACpBA,EAAKa,SAAWb,EAAKa,SAASF,KAAdV,OAAAW,EAAA,EAAAX,CAAAD,IAChBA,EAAKc,OAASd,EAAKc,OAAOH,KAAZV,OAAAW,EAAA,EAAAX,CAAAD,IATGA,wEAajB,OACEN,EAAAC,EAAAC,cAAA,SACEC,UAAWM,KAAKI,MAAME,QAAU,cAAgB,oBAChDM,KAAK,OACLC,MAAOb,KAAKI,MAAMC,WAClBM,OAAQX,KAAKW,OACbG,SAAUd,KAAKO,aACfQ,UAAWf,KAAKU,SAChBM,YAAa,oJAMZhB,KAAKI,MAAME,SACdN,KAAKiB,SAAS,CAACX,SAAS,yCAIfY,GACX,IAAMC,EAAWD,EAAME,OAAOP,MAE9Bb,KAAKiB,SAAS,CAACZ,WAAYc,IAEtBnB,KAAKI,MAAME,SACdN,KAAKiB,SAAS,CAACX,QAA6B,KAApBa,EAASE,0CAI5BH,GACW,UAAdA,EAAMI,MAILtB,KAAKI,MAAMC,WAAWgB,QAK3BrB,KAAKV,MAAMiC,SAASvB,KAAKI,MAAMC,WAAWgB,QAC1CrB,KAAKiB,SAAS,CAACZ,WAAY,MALzBL,KAAKiB,SAAS,CAACX,SAAS,EAAOD,WAAY,aAjDxBmB,iDCJzB,SAAAC,IAAmR,OAA9PA,EAAA3B,OAAA4B,QAAA,SAAAN,GAAgD,QAAAO,EAAA,EAAgBA,EAAAC,UAAAC,OAAsBF,IAAA,CAAO,IAAAG,EAAAF,UAAAD,GAA2B,QAAAL,KAAAQ,EAA0BhC,OAAAiC,UAAAC,eAAA7B,KAAA2B,EAAAR,KAAyDF,EAAAE,GAAAQ,EAAAR,IAAiC,OAAAF,IAAkBa,MAAAjC,KAAA4B,WAEnR,SAAAM,EAAAJ,EAAAK,GAAqD,SAAAL,EAAA,SAA+B,IAA8DR,EAAAK,EAA9DP,EAEpF,SAAAU,EAAAK,GAA0D,SAAAL,EAAA,SAA+B,IAAuDR,EAAAK,EAAvDP,EAAA,GAAiBgB,EAAAtC,OAAAuC,KAAAP,GAAkD,IAAAH,EAAA,EAAYA,EAAAS,EAAAP,OAAuBF,IAAOL,EAAAc,EAAAT,GAAqBQ,EAAAG,QAAAhB,IAAA,IAA0CF,EAAAE,GAAAQ,EAAAR,IAA6B,OAAAF,EAF9MmB,CAAAT,EAAAK,GAA0E,GAAArC,OAAA0C,sBAAA,CAAoC,IAAAC,EAAA3C,OAAA0C,sBAAAV,GAA6D,IAAAH,EAAA,EAAYA,EAAAc,EAAAZ,OAA6BF,IAAOL,EAAAmB,EAAAd,GAA2BQ,EAAAG,QAAAhB,IAAA,GAA0CxB,OAAAiC,UAAAW,qBAAAvC,KAAA2B,EAAAR,KAAwEF,EAAAE,GAAAQ,EAAAR,IAA+B,OAAAF,EAM3d,IAAAuB,EAEApD,EAAAC,EAAKC,cAAA,QACLmD,EAAA,uWAGIC,EAAa,SAAAC,GACjB,IAAAC,EAAAD,EAAAC,OACAzD,EAAA4C,EAAAY,EAAA,YAEA,OAASvD,EAAAC,EAAKC,cAAA,MAAAgC,EAAA,CACduB,OAAA,GACAC,MAAA,GACAC,IAAAH,GACGzD,GAAAqD,IAGHQ,EAAiB5D,EAAAC,EAAK4D,WAAA,SAAA9D,EAAA4D,GACtB,OAAS3D,EAAAC,EAAKC,cAAeoD,EAAapB,EAAA,CAC1CsB,OAAAG,GACG5D,MCvBG+D,GDyBSC,EAAAC,ECzBOC,0BAAgB,SAAClE,GAAD,OACpCC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,yBACZH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,eAAeJ,EAAMmE,OACrClE,EAAAC,EAAAC,cAAC0D,EAAD,CAAYzD,UAAU,sBAAsBgE,QAASpE,EAAMqE,kBAI/DN,EAAcO,UAAY,CACxBH,MAAOI,IAAUC,OACjBC,MAAOF,IAAUG,OAAOC,WACxBN,YAAaE,IAAUK,MAGVb,QCKAc,cAjBb,SAAAA,EAAY7E,GAAO,IAAAO,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmE,IACjBtE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqE,GAAAhE,KAAAH,KAAMV,KACDqE,YAAc,kBAAM9D,EAAKP,MAAMqE,YAAY9D,EAAKP,MAAMyE,QAF1ClE,wEAMjB,OACEN,EAAAC,EAAAC,cAAC2E,EAAD,CAAeX,MAAOzD,KAAKV,MAAMmE,MAAOM,MAAO/D,KAAKV,MAAMyE,MAAOJ,YAAa3D,KAAK2D,qBARhEnC,iBCCnB6C,SAAeC,4BAAkB,SAAChF,GAAD,OACrCC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACXJ,EAAMiF,OAAOC,IAAI,SAACf,EAAOM,GACxB,OAAQxE,EAAAC,EAAAC,cAACgF,EAAD,CAAYnD,IAAG,eAAAoD,OAAiBX,GAASA,MAAOA,EAAON,MAAOA,EAAOE,YAAarE,EAAMqE,oBA4BvFgB,gMAtBSC,GACpB,OAAO5E,KAAKV,MAAMiF,OAAOM,aAAeD,EAAUL,OAAOM,4CAIzD,OACEtF,EAAAC,EAAAC,cAAC4E,EAAD,CACEE,OAAQvE,KAAKV,MAAMiF,OACnBZ,YAAa3D,KAAKV,MAAMqE,YACxBmB,UAAW9E,KAAKV,MAAMwF,UACtBC,SAAU,WAXOC,aCLVC,SANK,SAAC3F,GAAD,OAClBC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACZJ,EAAM4F,mBC4BIC,cA5Bb,SAAAA,EAAY7F,GAAO,IAAAO,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmF,IACjBtF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqF,GAAAhF,KAAAH,KAAMV,KACD8F,OAASvF,EAAKuF,OAAO5E,KAAZV,OAAAW,EAAA,EAAAX,CAAAD,IAFGA,sEAKZqB,GACLlB,KAAKV,MAAM8F,OAAOlE,EAAMmE,IAAI,UAAUC,SAASC,mDAI/C,OACEhG,EAAAC,EAAAC,cAAC+F,EAAA,UAAD,CACEF,SAAUtF,KAAKV,MAAMmG,YACrBL,OAAQpF,KAAKoF,OACbM,QAAS,CAAC,2BACVC,WAAY,CAACC,qBAAsB5F,KAAKV,MAAMmE,OAC9CoC,QAAS,CAACC,WAAW,EAAMC,uBAAwB,YAjBvCf,aCaLgB,MAbf,SAAoB1G,GAClB,OACEC,EAAAC,EAAAC,cAAC+F,EAAA,UAAD,CACEF,SAAU,CAAC1E,KAAM,aAAc6E,YAAanG,EAAMmG,aAClDI,QAAS,CAACI,YAAa,MCFvBC,EAAY,CAChBC,OAAQ,CAAC,UAAW,WACpBC,KAAM,IA8COC,mLA1CJ,IAAAxG,EAAAG,KACDyF,EAAc,GACda,EAAS,GAef,OAbAtG,KAAKV,MAAMgH,OAAOC,QAAQ,SAACC,EAAOzC,GAChC0B,EAAYgB,KAAKD,EAAMf,aAEvBa,EAAOG,KACLlH,EAAAC,EAAAC,cAACiH,EAAD,CACEpF,IAAG,SAAAoD,OAAWX,GACdN,MAAO+C,EAAM/C,MACbgC,YAAae,EAAMf,YACnBL,OAAQ,SAAAlE,GAAK,OAAIrB,EAAKP,MAAMqH,YAAY5C,EAAO7C,SAMnD3B,EAAAC,EAAAC,cAAC+F,EAAA,MAAD,KACEjG,EAAAC,EAAAC,cAAC+F,EAAA,IAAD,CACEoB,aAAcV,EACdW,YAAa7G,KAAKV,MAAMwH,UACxB7D,MAAO,OACPD,OAAQ,QAEPsD,EACD/G,EAAAC,EAAAC,cAACsH,EAAD,CAAYtB,YAAaA,aA3BXT,aC2DTgC,cA7Db,SAAAA,EAAY1H,GAAO,IAAAO,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgH,IACjBnH,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAkH,GAAA7G,KAAAH,KAAMV,KACDwH,UAAYjH,EAAKiH,UAAUtG,KAAfV,OAAAW,EAAA,EAAAX,CAAAD,IACjBA,EAAKoH,oBAAsBpH,EAAKoH,oBAAoBzG,KAAzBV,OAAAW,EAAA,EAAAX,CAAAD,IAC3BA,EAAKqH,UAAYrH,EAAKqH,UAAU1G,KAAfV,OAAAW,EAAA,EAAAX,CAAAD,IACjBA,EAAK0B,SAAW1B,EAAK0B,SAASf,KAAdV,OAAAW,EAAA,EAAAX,CAAAD,IAChBA,EAAK8D,YAAc9D,EAAK8D,YAAYnD,KAAjBV,OAAAW,EAAA,EAAAX,CAAAD,IACnBA,EAAKO,MAAQ,CACX+G,aAAa,EACbb,OAAQ,IATOzG,wEAcjB,IAAM0E,EAASvE,KAAKI,MAAMkG,OAAO9B,IAAI,SAAAgC,GAAK,OAAIA,EAAM/C,QAEpD,OACElE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACXM,KAAKI,MAAM+G,aAAe5H,EAAAC,EAAAC,cAAC2H,EAAD,CAAQzH,QAAS,6FAC7CJ,EAAAC,EAAAC,cAAC4H,EAAD,KACE9H,EAAAC,EAAAC,cAAC6H,EAAD,CAAY/F,SAAUvB,KAAKuB,WAC3BhC,EAAAC,EAAAC,cAAC8H,EAAD,CAAWhD,OAAQA,EAAQZ,YAAa3D,KAAK2D,YAAamB,UAAW9E,KAAKkH,aAE5E3H,EAAAC,EAAAC,cAAC+H,EAAD,CAAWlB,OAAQtG,KAAKI,MAAMkG,OAAQK,YAAa3G,KAAKiH,oBAAqBH,UAAW9G,KAAK8G,kDAKnE,IAArBW,EAAqB3E,EAArB2E,SAAUC,EAAW5E,EAAX4E,SACbC,EAAQ3H,KAAKI,MAAMkG,OAAOsB,QAChCD,EAAME,OAAOH,EAAU,EAAGC,EAAME,OAAOJ,EAAU,GAAG,IAEpDzH,KAAKiB,SAAS,CAACqF,OAAQqB,sCAGfG,GACR9H,KAAKwE,IAAMsD,EACX9H,KAAKiB,SAAS,CAACkG,YAAaY,QAAQD,iDAGlB/D,EAAO0B,GACzB,IAAMa,EAAStG,KAAKI,MAAMkG,OAAOsB,QACjCtB,EAAOvC,GAAO0B,YAAcA,EAE5BzF,KAAKiB,SAAS,CAACqF,4CAGR7C,GACP,IAAM+C,EAAQ,CAAC/C,QAAOgC,YAAazF,KAAKwE,IAAIwD,aAE5ChI,KAAKiB,SAAS,CAACqF,OAAQtG,KAAKI,MAAMkG,OAAO5B,OAAO,CAAC8B,0CAGvCzC,GACV,IAAMuC,EAAStG,KAAKI,MAAMkG,OAAOsB,QAEjCtB,EAAOuB,OAAO9D,EAAO,GACrB/D,KAAKiB,SAAS,CAACqF,kBA1DDtB,aCHlBiD,IAASC,OAAO3I,EAAAC,EAAAC,cAAC0I,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.e367432d.chunk.js","sourcesContent":["import React from 'react';\n\nconst Loader = (props) => (\n  <div className='modal'>\n    <div className='loader'>\n      <div className='spinner'></div>\n      <p className='message'>{props.message}</p>\n    </div>\n  </div>\n);\n\nexport default Loader;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport './styles/PointInput.css';\n\nclass PointInput extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      pointTitle: '',\n      isValid: true\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n    this.keyPress = this.keyPress.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n  }\n\n  render() {\n    return (\n      <input\n        className={this.state.isValid ? 'point-input' : 'point-input error'}\n        type=\"text\"\n        value={this.state.pointTitle}\n        onBlur={this.onBlur}\n        onChange={this.handleChange}\n        onKeyDown={this.keyPress}\n        placeholder={'Новая точка маршрута'}\n      />\n    );\n  }\n\n  onBlur() {\n    if (!this.state.isValid) {\n      this.setState({isValid: true});\n    }\n  }\n\n  handleChange(event) {\n    const newValue = event.target.value;\n\n    this.setState({pointTitle: newValue});\n\n    if (!this.state.isValid) {\n      this.setState({isValid: newValue.trim() !== ''});\n    }\n  }\n\n  keyPress(event) {\n    if (event.key !== 'Enter') {\n      return;\n    }\n\n    if (!this.state.pointTitle.trim()) {\n      this.setState({isValid: false, pointTitle: ''});\n      return;\n    }\n\n    this.props.addPoint(this.state.pointTitle.trim());\n    this.setState({pointTitle: ''});\n  }\n}\n\nPointInput.propTypes = {\n  addPoint: PropTypes.func\n};\n\nexport default PointInput;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M20.377 16.519l6.567-6.566a2.485 2.485 0 0 0 0-3.502l-.876-.875a2.48 2.48 0 0 0-3.501 0L16 12.142 9.433 5.575a2.482 2.482 0 0 0-3.501 0l-.876.875a2.485 2.485 0 0 0 0 3.502l6.566 6.566-6.566 6.567a2.484 2.484 0 0 0 0 3.501l.876.876a2.482 2.482 0 0 0 3.501 0L16 20.896l6.567 6.566a2.482 2.482 0 0 0 3.501 0l.876-.876a2.484 2.484 0 0 0 0-3.501l-6.567-6.566z\"\n});\n\nvar SvgRemoveIcon = function SvgRemoveIcon(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    height: 32,\n    width: 32,\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgRemoveIcon, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/remove_icon.80481e24.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SortableElement } from 'react-sortable-hoc';\nimport { ReactComponent as DeleteIcon } from '../../icons/remove_icon.svg';\n\nconst SortablePoint = SortableElement((props) =>\n  <li className='point-title-container'>\n    <span className='point-title'>{props.title}</span>\n    <DeleteIcon className='point-delete-button' onClick={props.deletePoint} />\n  </li>\n);\n\nSortablePoint.propTypes = {\n  title: PropTypes.string,\n  index: PropTypes.number.isRequired,\n  deletePoint: PropTypes.func\n};\n\nexport default SortablePoint;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport './styles/PointTitle.css';\nimport SortablePoint from './SortablePoint';\n\nclass PointTitle extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.deletePoint = () => this.props.deletePoint(this.props.index);\n  }\n\n  render() {\n    return (\n      <SortablePoint title={this.props.title} index={this.props.index} deletePoint={this.deletePoint} />\n    );\n  }\n}\n\nPointTitle.propTypes = {\n  title: PropTypes.string,\n  deletePoint: PropTypes.func\n};\n\nexport default PointTitle;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport PointTitle from './PointTitle';\nimport { SortableContainer } from 'react-sortable-hoc';\nimport './styles/PointsList.css';\n\nconst SortableList = SortableContainer((props) =>\n  <ul className='points-list'>\n    {props.titles.map((title, index) => {\n      return (<PointTitle key={`point-title-${index}`} index={index} title={title} deletePoint={props.deletePoint}/>);\n    })}\n  </ul>\n);\n\nclass PointsList extends Component {\n  shouldComponentUpdate(nextProps) {\n    return this.props.titles.toString() !== nextProps.titles.toString();\n  }\n\n  render() {\n    return (\n      <SortableList\n        titles={this.props.titles}\n        deletePoint={this.props.deletePoint}\n        onSortEnd={this.props.onSortEnd}\n        distance={5}\n      />\n    );\n  }\n}\n\nPointsList.propTypes = {\n  titles: PropTypes.arrayOf(PropTypes.string),\n  deletePoint: PropTypes.func,\n  onSortEnd: PropTypes.func\n};\n\nexport default PointsList;\n","import React from 'react';\nimport './styles/RouteEditor.css';\n\nconst RouteEditor = (props) => (\n  <div className='route-editor'>\n    {props.children}\n  </div>\n);\n\nexport default RouteEditor;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Placemark } from 'react-yandex-maps';\n\nclass Point extends Component {\n  constructor(props) {\n    super(props);\n    this.onDrag = this.onDrag.bind(this);\n  }\n\n  onDrag(event) {\n    this.props.onDrag(event.get('target').geometry.getCoordinates());\n  }\n\n  render() {\n    return (\n      <Placemark\n        geometry={this.props.coordinates}\n        onDrag={this.onDrag}\n        modules={['geoObject.addon.balloon']}\n        properties={{balloonContentHeader: this.props.title}}\n        options={{draggable: true, balloonPanelMaxMapArea: 0}}\n      />\n   );\n  }\n}\n\nPoint.propTypes = {\n  title: PropTypes.string,\n  coordinates: PropTypes.arrayOf(PropTypes.number),\n  onDrag: PropTypes.func\n};\n\nexport default Point;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { GeoObject } from 'react-yandex-maps';\n\nfunction LineString(props) {\n  return (\n    <GeoObject\n      geometry={{type: 'LineString', coordinates: props.coordinates}}\n      options={{strokeWidth: 5}}\n    />\n  );\n}\n\nLineString.propTypes = {\n  coordinates: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.number))\n};\n\nexport default LineString;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Point from './Point';\nimport LineString from './LineString';\nimport { YMaps, Map } from 'react-yandex-maps';\n\nconst MAP_STATE = {\n  center: [54.321119, 48.399449],\n  zoom: 15\n};\n\nclass YandexMap extends Component {\n  render() {\n    const coordinates = [];\n    const points = [];\n\n    this.props.points.forEach((point, index) => {\n      coordinates.push(point.coordinates);\n\n      points.push(\n        <Point\n          key={`point-${index}`}\n          title={point.title}\n          coordinates={point.coordinates}\n          onDrag={event => this.props.onPointDrag(index, event)}\n        />\n      );\n    });\n\n    return (\n      <YMaps>\n        <Map\n          defaultState={MAP_STATE}\n          instanceRef={this.props.setMapRef}\n          width={'100%'}\n          height={'100%'}\n        >\n          {points}\n          <LineString coordinates={coordinates} />\n        </Map>\n      </YMaps>\n    );\n  }\n}\n\nYandexMap.propTypes = {\n  points: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    coordinates: PropTypes.arrayOf(PropTypes.number)\n  })),\n  onPointDrag: PropTypes.func,\n  setMapRef: PropTypes.func\n};\n\nexport default YandexMap;\n","import '../App.css';\nimport Loader from './Loader';\nimport PointInput from './RouteEditor/PointInput';\nimport PointList from './RouteEditor/PointList';\nimport React, { Component } from 'react';\nimport RouteEditor from './RouteEditor/RouteEditor';\nimport YandexMap from './Map/YandexMap';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.setMapRef = this.setMapRef.bind(this);\n    this.setPointCoordinates = this.setPointCoordinates.bind(this);\n    this.movePoint = this.movePoint.bind(this);\n    this.addPoint = this.addPoint.bind(this);\n    this.deletePoint = this.deletePoint.bind(this);\n    this.state = {\n      isMapLoaded: false,\n      points: []\n    };\n  }\n\n  render() {\n    const titles = this.state.points.map(point => point.title);\n\n    return (\n      <div className=\"app-container\">\n        {!this.state.isMapLoaded && <Loader message={'Загружаем карту...'}/>}\n        <RouteEditor>\n          <PointInput addPoint={this.addPoint} />\n          <PointList titles={titles} deletePoint={this.deletePoint} onSortEnd={this.movePoint} />\n        </RouteEditor>\n        <YandexMap points={this.state.points} onPointDrag={this.setPointCoordinates} setMapRef={this.setMapRef} />\n      </div>\n    );\n  }\n\n  movePoint({oldIndex, newIndex}) {\n    const array = this.state.points.slice();\n    array.splice(newIndex, 0, array.splice(oldIndex, 1)[0]);\n\n    this.setState({points: array});\n  }\n\n  setMapRef(mapRef) {\n    this.map = mapRef;\n    this.setState({isMapLoaded: Boolean(mapRef)});\n  }\n\n  setPointCoordinates(index, coordinates) {\n    const points = this.state.points.slice();\n    points[index].coordinates = coordinates;\n\n    this.setState({points});\n  }\n\n  addPoint(title) {\n    const point = {title, coordinates: this.map.getCenter()};\n\n    this.setState({points: this.state.points.concat([point])});\n  }\n\n  deletePoint(index) {\n    const points = this.state.points.slice();\n\n    points.splice(index, 1);\n    this.setState({points});\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}