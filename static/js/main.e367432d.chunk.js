(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,function(t,e,n){t.exports=n(26)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},,,function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),o=n(10),r=n.n(o),s=(n(18),n(2)),l=n(3),c=n(5),u=n(4),p=n(1),d=n(6),h=(n(19),function(t){return i.a.createElement("div",{className:"modal"},i.a.createElement("div",{className:"loader"},i.a.createElement("div",{className:"spinner"}),i.a.createElement("p",{className:"message"},t.message)))}),f=(n(20),function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).state={pointTitle:"",isValid:!0},n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.keyPress=n.keyPress.bind(Object(p.a)(n)),n.onBlur=n.onBlur.bind(Object(p.a)(n)),n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement("input",{className:this.state.isValid?"point-input":"point-input error",type:"text",value:this.state.pointTitle,onBlur:this.onBlur,onChange:this.handleChange,onKeyDown:this.keyPress,placeholder:"\u041d\u043e\u0432\u0430\u044f \u0442\u043e\u0447\u043a\u0430 \u043c\u0430\u0440\u0448\u0440\u0443\u0442\u0430"})}},{key:"onBlur",value:function(){this.state.isValid||this.setState({isValid:!0})}},{key:"handleChange",value:function(t){var e=t.target.value;this.setState({pointTitle:e}),this.state.isValid||this.setState({isValid:""!==e.trim()})}},{key:"keyPress",value:function(t){"Enter"===t.key&&(this.state.pointTitle.trim()?(this.props.addPoint(this.state.pointTitle.trim()),this.setState({pointTitle:""})):this.setState({isValid:!1,pointTitle:""}))}}]),e}(a.PureComponent)),m=(n(21),n(8)),b=n.n(m),O=n(9);function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function j(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},o=Object.keys(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)n=o[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var g=i.a.createElement("path",{d:"M20.377 16.519l6.567-6.566a2.485 2.485 0 0 0 0-3.502l-.876-.875a2.48 2.48 0 0 0-3.501 0L16 12.142 9.433 5.575a2.482 2.482 0 0 0-3.501 0l-.876.875a2.485 2.485 0 0 0 0 3.502l6.566 6.566-6.566 6.567a2.484 2.484 0 0 0 0 3.501l.876.876a2.482 2.482 0 0 0 3.501 0L16 20.896l6.567 6.566a2.482 2.482 0 0 0 3.501 0l.876-.876a2.484 2.484 0 0 0 0-3.501l-6.567-6.566z"}),y=function(t){var e=t.svgRef,n=j(t,["svgRef"]);return i.a.createElement("svg",v({height:32,width:32,ref:e},n),g)},P=i.a.forwardRef(function(t,e){return i.a.createElement(y,v({svgRef:e},t))}),E=(n.p,Object(O.SortableElement)(function(t){return i.a.createElement("li",{className:"point-title-container"},i.a.createElement("span",{className:"point-title"},t.title),i.a.createElement(P,{className:"point-delete-button",onClick:t.deletePoint}))}));E.propTypes={title:b.a.string,index:b.a.number.isRequired,deletePoint:b.a.func};var k=E,C=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).deletePoint=function(){return n.props.deletePoint(n.props.index)},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return i.a.createElement(k,{title:this.props.title,index:this.props.index,deletePoint:this.deletePoint})}}]),e}(a.PureComponent),S=(n(24),Object(O.SortableContainer)(function(t){return i.a.createElement("ul",{className:"points-list"},t.titles.map(function(e,n){return i.a.createElement(C,{key:"point-title-".concat(n),index:n,title:e,deletePoint:t.deletePoint})}))})),w=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"shouldComponentUpdate",value:function(t){return this.props.titles.toString()!==t.titles.toString()}},{key:"render",value:function(){return i.a.createElement(S,{titles:this.props.titles,deletePoint:this.props.deletePoint,onSortEnd:this.props.onSortEnd,distance:5})}}]),e}(a.Component),M=(n(25),function(t){return i.a.createElement("div",{className:"route-editor"},t.children)}),x=n(7),R=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).onDrag=n.onDrag.bind(Object(p.a)(n)),n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"onDrag",value:function(t){this.props.onDrag(t.get("target").geometry.getCoordinates())}},{key:"render",value:function(){return i.a.createElement(x.Placemark,{geometry:this.props.coordinates,onDrag:this.onDrag,modules:["geoObject.addon.balloon"],properties:{balloonContentHeader:this.props.title},options:{draggable:!0,balloonPanelMaxMapArea:0}})}}]),e}(a.Component);var N=function(t){return i.a.createElement(x.GeoObject,{geometry:{type:"LineString",coordinates:t.coordinates},options:{strokeWidth:5}})},D={center:[54.321119,48.399449],zoom:15},T=function(t){function e(){return Object(s.a)(this,e),Object(c.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this,e=[],n=[];return this.props.points.forEach(function(a,o){e.push(a.coordinates),n.push(i.a.createElement(R,{key:"point-".concat(o),title:a.title,coordinates:a.coordinates,onDrag:function(e){return t.props.onPointDrag(o,e)}}))}),i.a.createElement(x.YMaps,null,i.a.createElement(x.Map,{defaultState:D,instanceRef:this.props.setMapRef,width:"100%",height:"100%"},n,i.a.createElement(N,{coordinates:e})))}}]),e}(a.Component),B=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(c.a)(this,Object(u.a)(e).call(this,t))).setMapRef=n.setMapRef.bind(Object(p.a)(n)),n.setPointCoordinates=n.setPointCoordinates.bind(Object(p.a)(n)),n.movePoint=n.movePoint.bind(Object(p.a)(n)),n.addPoint=n.addPoint.bind(Object(p.a)(n)),n.deletePoint=n.deletePoint.bind(Object(p.a)(n)),n.state={isMapLoaded:!1,points:[]},n}return Object(d.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.state.points.map(function(t){return t.title});return i.a.createElement("div",{className:"app-container"},!this.state.isMapLoaded&&i.a.createElement(h,{message:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u0443..."}),i.a.createElement(M,null,i.a.createElement(f,{addPoint:this.addPoint}),i.a.createElement(w,{titles:t,deletePoint:this.deletePoint,onSortEnd:this.movePoint})),i.a.createElement(T,{points:this.state.points,onPointDrag:this.setPointCoordinates,setMapRef:this.setMapRef}))}},{key:"movePoint",value:function(t){var e=t.oldIndex,n=t.newIndex,a=this.state.points.slice();a.splice(n,0,a.splice(e,1)[0]),this.setState({points:a})}},{key:"setMapRef",value:function(t){this.map=t,this.setState({isMapLoaded:Boolean(t)})}},{key:"setPointCoordinates",value:function(t,e){var n=this.state.points.slice();n[t].coordinates=e,this.setState({points:n})}},{key:"addPoint",value:function(t){var e={title:t,coordinates:this.map.getCenter()};this.setState({points:this.state.points.concat([e])})}},{key:"deletePoint",value:function(t){var e=this.state.points.slice();e.splice(t,1),this.setState({points:e})}}]),e}(a.Component);r.a.render(i.a.createElement(B,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.e367432d.chunk.js.map